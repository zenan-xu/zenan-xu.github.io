"use strict";(self.webpackChunkzenan_website=self.webpackChunkzenan_website||[]).push([[288],{4419:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>c});var i=t(4848),s=t(8453);const a={id:"java",sidebar_label:"Java",sidebar_position:2},l="Java",r={id:"java",title:"Java",description:"Javadoc",source:"@site/notes/2_java.md",sourceDirName:".",slug:"/java",permalink:"/docs/java",draft:!1,unlisted:!1,editUrl:"https://github.com/zenan-xu/zenan-xu.github.io/tree/main/notes/2_java.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"java",sidebar_label:"Java",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"My Notes",permalink:"/docs/intro"},next:{title:"Spring / Spring-Boot",permalink:"/docs/spring-boot"}},o={},c=[{value:"Javadoc",id:"javadoc",level:2},{value:"Reference a method",id:"reference-a-method",level:3},{value:"Get size/length",id:"get-sizelength",level:3},{value:"Collections / Map",id:"collections--map",level:2},{value:"To have the map with the order of presence in the list when grouping",id:"to-have-the-map-with-the-order-of-presence-in-the-list-when-grouping",level:3},{value:"add element into ArrayList in HashMap",id:"add-element-into-arraylist-in-hashmap",level:3},{value:"ArrayList vs LinkedList",id:"arraylist-vs-linkedlist",level:3},{value:"String",id:"string",level:2},{value:"Concatenation",id:"concatenation",level:3},{value:"<code>String.format</code> with same value multiple times",id:"stringformat-with-same-value-multiple-times",level:3},{value:"Move one element to first place in a map",id:"move-one-element-to-first-place-in-a-map",level:3},{value:"Date handling",id:"date-handling",level:2},{value:"Transform a time in string without time zone info to epoch",id:"transform-a-time-in-string-without-time-zone-info-to-epoch",level:3},{value:"Calculate difference between 2 instants",id:"calculate-difference-between-2-instants",level:3},{value:"Decimal format",id:"decimal-format",level:2},{value:"Type erasure",id:"type-erasure",level:2},{value:"Test util",id:"test-util",level:2},{value:"Test private method",id:"test-private-method",level:3},{value:"Dynamically get/set field",id:"dynamically-getset-field",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"java",children:"Java"}),"\n",(0,i.jsx)(n.h2,{id:"javadoc",children:"Javadoc"}),"\n",(0,i.jsx)(n.h3,{id:"reference-a-method",children:"Reference a method"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javadoc",children:"{@link Class#method()}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["If you get ",(0,i.jsx)(n.code,{children:"Symbol ... is inaccessible from here"})," in Intellij, check ",(0,i.jsx)(n.a,{href:"https://zenan-xu.github.io/docs/intellij#settings",children:"intellij note"})]}),"\n",(0,i.jsx)(n.h3,{id:"get-sizelength",children:"Get size/length"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"String : length()"}),"\n",(0,i.jsx)(n.li,{children:"Collections : size()"}),"\n",(0,i.jsx)(n.li,{children:"Map : size()"}),"\n",(0,i.jsx)(n.li,{children:"Array : length"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"collections--map",children:"Collections / Map"}),"\n",(0,i.jsx)(n.h3,{id:"to-have-the-map-with-the-order-of-presence-in-the-list-when-grouping",children:"To have the map with the order of presence in the list when grouping"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"list.stream().collect(Collectors.groupingBy(Object::getKey, LinkedHashMap::new, Collectors.toList()));\n"})}),"\n",(0,i.jsx)(n.h3,{id:"add-element-into-arraylist-in-hashmap",children:"add element into ArrayList in HashMap"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Map<String, List<Item>> items = new HashMap<>();\nitems.computeIfAbsent(key, k -> new ArrayList<>()).add(item);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"arraylist-vs-linkedlist",children:"ArrayList vs LinkedList"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Internal Implementation","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"ArrayList internally uses a dynamic array to store its elements."}),"\n",(0,i.jsx)(n.li,{children:"LinkedList uses Doubly Linked List to store its elements."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Manipulation","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"ArrayList is slow as array manipulation is slower."}),"\n",(0,i.jsx)(n.li,{children:"LinkedList is faster being node based as not much bit shifting required."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Implementation","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"ArrayList implements only List."}),"\n",(0,i.jsx)(n.li,{children:"LinkedList implements List as well as Queue. It can act as a queue as well."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Access","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"ArrayList is faster in storing and accessing data."}),"\n",(0,i.jsx)(n.li,{children:"LinkedList is faster in manipulation of data."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"string",children:"String"}),"\n",(0,i.jsx)(n.h3,{id:"concatenation",children:"Concatenation"}),"\n",(0,i.jsxs)(n.p,{children:["Java does string concatenation using StringBuilder by default for simple cases (checkout the bytecode using ",(0,i.jsx)(n.code,{children:"javap -c"}),")."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"String a = b + c + d;"})," is converted to ",(0,i.jsx)(n.code,{children:"String a = new StringBuilder(b).append(c).append(d).toString();"})]}),"\n",(0,i.jsxs)(n.h3,{id:"stringformat-with-same-value-multiple-times",children:[(0,i.jsx)(n.code,{children:"String.format"})," with same value multiple times"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'String s = "%s %1$s %1$s".\nString.format(s, "hello");\n'})}),"\n",(0,i.jsx)(n.h3,{id:"move-one-element-to-first-place-in-a-map",children:"Move one element to first place in a map"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Map<String, String> copy = new LinkedHashMap<>(origin);\norigin.keySet().retainAll(Collections.singleton(value));\norigin.putAll(copy);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"date-handling",children:"Date handling"}),"\n",(0,i.jsx)(n.h3,{id:"transform-a-time-in-string-without-time-zone-info-to-epoch",children:"Transform a time in string without time zone info to epoch"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'String aDate = "2024-04-30 15:00:00";\nLocalDateTime.parse(aDate, DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss")).atZone(ZoneOffset.UTC).toInstant().toEpochMilli();\n'})}),"\n",(0,i.jsxs)(n.p,{children:["LocalDateTime does not contain zone info, so it fits to parse this date in string. And then transform to ",(0,i.jsx)(n.code,{children:"Instant"})," with a zone."]}),"\n",(0,i.jsx)(n.h3,{id:"calculate-difference-between-2-instants",children:"Calculate difference between 2 instants"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"ChronoUnit.MINUTES.between(Instant.ofEpochMilli(123L), Instant.ofEpochMilli(Instant.now().toEpochMilli()));\n"})}),"\n",(0,i.jsx)(n.h2,{id:"decimal-format",children:"Decimal format"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'private DecimalFormat decimalFormat = new DecimalFormat("#,###.00;-#,###.00", new DecimalFormatSymbols(Locale.US));\n'})}),"\n",(0,i.jsx)(n.p,{children:"Without second parameter, it will use os locale and will cause potential pb, for ex still convert 12.00 to 12,00 if os has french region"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"windows os -> settings -> TIme&Language -> region -> regional format"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:'String.format(Locale.US, "%,.3f", number)'})}),"\n",(0,i.jsx)(n.h2,{id:"type-erasure",children:"Type erasure"}),"\n",(0,i.jsx)(n.p,{children:"To understand why primitive data types cannot be used to generics, let's remember that generics are a compile-time feature, meaning the type parameter is erased and all generic types are implemented as type Object.\nTherefore, type parameters must be convertible to Object. Since primitive types don't extend Object, we can't use them as type parameters."}),"\n",(0,i.jsx)(n.h2,{id:"test-util",children:"Test util"}),"\n",(0,i.jsx)(n.h3,{id:"test-private-method",children:"Test private method"}),"\n",(0,i.jsxs)(n.p,{children:["Ex : ",(0,i.jsx)(n.code,{children:'Object returnValue = executeMethod(getMethod("methodName", RequestParam.class), testClass, requestParam)'})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"private static Object executeMethod(Method method, Object obj, Object... params) throws InvocationTargetException, IllegalAccessException {\n    method.setAccessible(true);\n    return method.invoke(obj, params)\n}\n\nprivate static Method getMethod(String methodName, Class<?>... clazz) throws NoSuchMethodException {\n   return TestClass.class.getDeclaredMethod(methodName, clazz);\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"dynamically-getset-field",children:"Dynamically get/set field"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"@SneakyThrows\npublic static <T> T get(String fieldName, Object instance, Class<?> instanceClass) {\n   return (T) instanceClass.getDeclaredField(fieldName).get(instance);\n}\n\n@SneakyThrows\npublic static <T> void set(String fieldName, Object instance, T value) {\n   Field field = instance.getClass().getDeclaredField(fieldName);\n   field.setAccessible(true);\n   field.set(instance, value);\n}\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>r});var i=t(6540);const s={},a=i.createContext(s);function l(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);