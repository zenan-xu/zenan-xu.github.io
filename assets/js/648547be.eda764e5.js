"use strict";(self.webpackChunkzenan_website=self.webpackChunkzenan_website||[]).push([[124],{1994:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>a});var o=i(4848),n=i(8453);const r={id:"git",sidebar_label:"Git / Github",sidebar_position:5},s="Git / Github",c={id:"git",title:"Git / Github",description:"Clone request",source:"@site/notes/5_git.md",sourceDirName:".",slug:"/git",permalink:"/docs/git",draft:!1,unlisted:!1,editUrl:"https://github.com/zenan-xu/zenan-xu.github.io/tree/main/notes/5_git.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{id:"git",sidebar_label:"Git / Github",sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Intellij idea",permalink:"/docs/intellij"},next:{title:"Typescript",permalink:"/docs/ts"}},d={},a=[{value:"Clone request",id:"clone-request",level:3},{value:"Show remote url",id:"show-remote-url",level:3},{value:"Remove directory from remote repository after adding them to .gitignore",id:"remove-directory-from-remote-repository-after-adding-them-to-gitignore",level:3},{value:"Bind a project to a remote repository",id:"bind-a-project-to-a-remote-repository",level:3},{value:"Workflow Permission to git denied to github-actions[bot]",id:"workflow-permission-to-git-denied-to-github-actionsbot",level:3},{value:"Delete the most recent commit without destroying the work you&#39;ve done :",id:"delete-the-most-recent-commit-without-destroying-the-work-youve-done-",level:3},{value:"Delete the most recent commit and remove changes :",id:"delete-the-most-recent-commit-and-remove-changes-",level:3},{value:"Jump to the latest commit on origin/master and checkout those files",id:"jump-to-the-latest-commit-on-originmaster-and-checkout-those-files",level:3},{value:"Recover commits after <code>git push -f your_branch</code>",id:"recover-commits-after-git-push--f-your_branch",level:3},{value:"GitHub action not working for firs time",id:"github-action-not-working-for-firs-time",level:3}];function l(e){const t={code:"code",h1:"h1",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,n.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"git--github",children:"Git / Github"}),"\n",(0,o.jsx)(t.h3,{id:"clone-request",children:"Clone request"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["HTTPS with ",(0,o.jsx)(t.code,{children:"PAT"})]}),"\n"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"git clone https://username:token@github.com/username/repo.git\n"})}),"\n",(0,o.jsxs)(t.p,{children:["You can also use above command, if you entered git username and password instead of PAT the first time git ask you to authenticate, and you keep getting following error:\n",(0,o.jsx)(t.code,{children:"remote: HTTP Basic: Access denied. The provided password or token is incorrect or your account has 2FA enabled and you must use a personal access token instead of a password"})]}),"\n",(0,o.jsx)(t.h3,{id:"show-remote-url",children:"Show remote url"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-git",children:"git config --get remote.origin.url\ngit remote show origin\n"})}),"\n",(0,o.jsx)(t.h3,{id:"remove-directory-from-remote-repository-after-adding-them-to-gitignore",children:"Remove directory from remote repository after adding them to .gitignore"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-git",children:'git rm -r --cached .idea\ngit commit -m "Removed idea folder from repository"\ngit push origin main\n'})}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.code,{children:"--cached"})," tells git that you want to keep your local copies of the files"]}),"\n",(0,o.jsx)(t.h3,{id:"bind-a-project-to-a-remote-repository",children:"Bind a project to a remote repository"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-git",children:'git init\ngit add .\ngit commit -m "Initial commit"\ngit remote add origin https://github.com/.../....git\ngit branch -M main\ngit push -u origin main\n'})}),"\n",(0,o.jsx)(t.h3,{id:"workflow-permission-to-git-denied-to-github-actionsbot",children:"Workflow Permission to git denied to github-actions[bot]"}),"\n",(0,o.jsxs)(t.p,{children:["Go to ",(0,o.jsx)(t.code,{children:"Setting"})," -> ",(0,o.jsx)(t.code,{children:"Actions"})," -> ",(0,o.jsx)(t.code,{children:"General"})," -> ",(0,o.jsx)(t.code,{children:"Workflow permissions"})," -> check ",(0,o.jsx)(t.code,{children:"Read and write permissions"})]}),"\n",(0,o.jsx)(t.h3,{id:"delete-the-most-recent-commit-without-destroying-the-work-youve-done-",children:"Delete the most recent commit without destroying the work you've done :"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-git",children:"git reset --soft HEAD~1\n"})}),"\n",(0,o.jsx)(t.h3,{id:"delete-the-most-recent-commit-and-remove-changes-",children:"Delete the most recent commit and remove changes :"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-git",children:"git reset --hard HEAD~1\n"})}),"\n",(0,o.jsx)(t.h3,{id:"jump-to-the-latest-commit-on-originmaster-and-checkout-those-files",children:"Jump to the latest commit on origin/master and checkout those files"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-git",children:"git fetch --all\ngit branch backup-master\ngit reset --hard origin/master\n"})}),"\n",(0,o.jsxs)(t.h3,{id:"recover-commits-after-git-push--f-your_branch",children:["Recover commits after ",(0,o.jsx)(t.code,{children:"git push -f your_branch"})]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-git",children:"git reflog\n"})}),"\n",(0,o.jsx)(t.p,{children:"Choose Head_Number you want recover with"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-git",children:"git reset --hard HEAD@{HEAD-NUMBER}\n"})}),"\n",(0,o.jsx)(t.p,{children:"You can see all commits on this head by"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-git",children:"git cherry -v branch_name\n"})}),"\n",(0,o.jsxs)(t.p,{children:["In the end you should force push ",(0,o.jsx)(t.code,{children:"git push -f branch_name"})]}),"\n",(0,o.jsx)(t.h3,{id:"github-action-not-working-for-firs-time",children:"GitHub action not working for firs time"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:" /usr/bin/git push origin gh-pages\n  remote: Permission to menu-caidan/menu-caidan.github.io.git denied to github-actions[bot].\n  fatal: unable to access 'https://github.com/xxx/xxx.github.io.git/': The requested URL returned error: 403\n"})}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Github action setting",src:i(2735).A+"",width:"804",height:"312"})})]})}function h(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},2735:(e,t,i)=>{i.d(t,{A:()=>o});const o=i.p+"assets/images/github_action_setting-0dc47d7b2fa03dc3624b692ceae1372d.png"},8453:(e,t,i)=>{i.d(t,{R:()=>s,x:()=>c});var o=i(6540);const n={},r=o.createContext(n);function s(e){const t=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),o.createElement(r.Provider,{value:t},e.children)}}}]);